{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '27957885-8dff7fee3c243073fce7c6825';\n\nconst fetchImages = (query, page) => {\n  return fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&per_page=12&page=${page}`\n  );\n};\n\nexport default fetchImages;\n","const gallery = document.querySelector('.gallery');\n\nexport const renderLoading = () => {\n  gallery.innerHTML = '<span class=\"loader\"></span>';\n};\n\nconst createImageCard = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => `\n<li>\n  <a href=\"${largeImageURL}\">\n    <div class=\"image-container\">\n      <img class=\"image-preview\" src=\"${webformatURL}\" alt=\"${tags}\" />\n    </div>\n    <div class=\"card-description\">\n      <span class=\"attribute\"><span>Likes</span> ${likes}</span>\n      <span class=\"attribute\"><span>Views</span> ${views}</span>\n      <span class=\"attribute\"><span>Comments</span> ${comments}</span>\n      <span class=\"attribute\"><span>Downloads</span> ${downloads}</span>\n    </div>\n  </a>\n</li>\n  `;\n\nexport const renderImages = images => {\n  const cards = images.map(createImageCard).join('');\n\n  gallery.innerHTML = `<ul class=\"gallery-list\">${cards}</ul>`;\n};\n\nexport const renderError = () => {\n  gallery.innerHTML = '';\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport fetchImages from './js/pixabay-api';\nimport {\n  renderLoading,\n  renderImages,\n  renderError,\n} from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst simpleGallery = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.8,\n  captions: true,\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionType: 'attr',\n  captionsData: 'alt',\n});\n\nconst searchForm = document.querySelector('.search-form');\n\nconst submitHandler = e => {\n  e.preventDefault();\n\n  const form = e.target;\n\n  const query = form.elements.query.value.trim();\n  if (!query) {\n    return;\n  }\n\n  form.reset();\n\n  renderLoading();\n\n  fetchImages(query, 1)\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      if (data.total === 0) {\n        return Promise.reject(\n          new Error(\n            'Sorry, there are no images matching your search query. Please try again!'\n          )\n        );\n      } else {\n        renderImages(data.hits);\n      }\n    })\n    .then(() => {\n      simpleGallery.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n      });\n      renderError();\n    });\n};\n\nsearchForm.addEventListener('submit', submitHandler);\n"],"names":["API_KEY","fetchImages","query","page","gallery","renderLoading","createImageCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImages","images","cards","renderError","simpleGallery","SimpleLightbox","searchForm","submitHandler","e","form","response","data","error","iziToast"],"mappings":"6vBAAA,MAAMA,EAAU,qCAEVC,EAAc,CAACC,EAAOC,IACnB,MACL,gCAAgCH,CAAO,MAAME,CAAK,6EAA6EC,CAAI,EACvI,ECLMC,EAAU,SAAS,cAAc,UAAU,EAEpCC,EAAgB,IAAM,CACjCD,EAAQ,UAAY,8BACtB,EAEME,EAAkB,CAAC,CACvB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IAAM;AAAA;AAAA,aAEOL,CAAa;AAAA;AAAA,wCAEcD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,mDAGfC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA;AAAA,IAMnDC,EAAeC,GAAU,CACpC,MAAMC,EAAQD,EAAO,IAAIT,CAAe,EAAE,KAAK,EAAE,EAEjDF,EAAQ,UAAY,4BAA4BY,CAAK,OACvD,EAEaC,EAAc,IAAM,CAC/Bb,EAAQ,UAAY,EACtB,EC3BMc,EAAgB,IAAIC,EAAe,aAAc,CACrD,eAAgB,GAChB,SAAU,GACV,aAAc,IACd,gBAAiB,SACjB,YAAa,OACb,aAAc,KAChB,CAAC,EAEKC,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAgBC,GAAK,CACzBA,EAAE,eAAc,EAEhB,MAAMC,EAAOD,EAAE,OAETpB,EAAQqB,EAAK,SAAS,MAAM,MAAM,OACnCrB,IAILqB,EAAK,MAAK,EAEVlB,IAEAJ,EAAYC,EAAO,CAAC,EACjB,KAAKsB,GACGA,EAAS,MACjB,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EACjB,OAAO,QAAQ,OACb,IAAI,MACF,0EACD,CACX,EAEQX,EAAaW,EAAK,IAAI,CAE9B,CAAK,EACA,KAAK,IAAM,CACVP,EAAc,QAAO,CAC3B,CAAK,EACA,MAAMQ,GAAS,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EAAM,OACvB,CAAO,EACDT,GACN,CAAK,EACL,EAEAG,EAAW,iBAAiB,SAAUC,CAAa"}